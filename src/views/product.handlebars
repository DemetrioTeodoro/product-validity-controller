{{!-- open modal --}}
<button id="save-new-product-btn" type="button" class="btn btn-primary btn-register" data-bs-toggle="modal" data-bs-target="#modal-cadastro-edicao">
  Cadastrar Produto
</button>

{{!-- modal - save/edit --}}
<div class="modal fade" id="modal-cadastro-edicao" data-target="#modal-save-edit" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
  aria-labelledby="title" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">

      <div class="modal-header">
        <h5 class="modal-title" id="title">Novo Produto</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>

      <form name="formProduct" method="post" action="product">
        <div class="modal-body">
          <input readonly id="id" name="id" type="hidden" class="form-control"><br />

          <label for="product-name">Nome</label><br />
          <input required id="product-name" name="name" type="text" class="form-control">

          <label for="product-amount">Quantidade</label><br />
          <input required id="product-amount" name="amount" type="number" class="form-control">

          <label for="product-validity">Validade</label><br />
          <input required id="product-validity" name="expirationDate" type="date" class="form-control">
        </div>

        <div class="modal-footer">
          <button id="cancel-and-close-modal-btn" type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
          <button type="submit" class="btn btn-primary">Salvar</button>
        </div>
      </form>

    </div>
  </div>
</div>

{{!-- modal - confirm delete --}}
<div class="modal fade" id="modal-confirm-delete" tabindex="-1" role="dialog" aria-labelledby="title" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">

      <div class="modal-header">
        <h5 class="modal-title" id="title">Tem certeza que deseja excluir o produto:</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>

        <div class="modal-body">
          <input readonly id="index" name="index" type="hidden" class="form-control"><br />
          <input readonly id="id-delete" name="id" type="hidden" class="form-control"><br />

          <label for="product-name-delete">Nome</label><br />
          <input readonly id="product-name-delete" type="text" class="form-control">

          <label for="product-amount-delete">Quantidade</label><br />
          <input readonly id="product-amount-delete" type="number" class="form-control">

          <label for="product-validity-delete">Validade</label><br />
          <input readonly id="product-validity-delete" type="date" class="form-control">
        </div>

        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
          <button id="delete-product-btn" type="button" class="btn btn-danger">Sim, deletar</button>
        </div>

    </div>
  </div>
</div>

{{!-- table --}}
<table class="table table-striped table-hover">
  <thead>
    <tr id="row">
      <th>Nome do Produto</th>
      <th>Quantidade</th>
      <th>Validade</th>
      <th class="center-items">Ações</th>
    </tr>
  </thead>
  <tbody>
    {{#each products}}
    <tr>
      <td style="display:none;">{{id}}</td>
      <td>{{name}}</td>
      <td>{{amount}}</td>
      <td>{{expirationDate}}</td>
      <td class="center-items">
        <button id="edit-product-btn" type="button" class="btn btn-white" data-bs-toggle="modal" data-bs-target="#modal-cadastro-edicao">
          <img src="../icons/edit.png" />
        </button>
        <button id="to-delete-product-btn" type="button" class="btn btn-white" data-bs-toggle="modal" data-bs-target="#modal-confirm-delete">
          <img src="../icons/delete.png" />
        </button>
      </td>
    </tr>
    {{/each}}
  </tbody>
</table>

{{!-- scripts --}}
<script type="module" src="../../js/product.js"></script>
<script crossorigin="anonymous" src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
  integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"></script>
<script crossorigin="anonymous" src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
  integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"></script>